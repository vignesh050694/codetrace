spring:
  application:
    name: orkestify
  data:
    mongodb:
      uri: ${MONGODB_URI}
      database: ${MONGODB_DATABASE}
  neo4j:
    uri: ${NEO4J_URI:bolt://localhost:7687}
    authentication:
      username: ${NEO4J_USERNAME:neo4j}
      password: ${NEO4J_PASSWORD:password}
  security:
    oauth2:
      client:
        registration:
          github:
            client-id: ${GITHUB_CLIENT_ID}
            client-secret: ${GITHUB_CLIENT_SECRET}
            scope:
              - read:user
              - read:org
              - repo
        provider:
          github:
            authorization-uri: https://github.com/login/oauth/authorize
            token-uri: https://github.com/login/oauth/access_token
            user-info-uri: https://api.github.com/user

server:
  port: ${SERVER_PORT:8080}

github:
  api:
    base-url: https://api.github.com
  webhook:
    secret: ${GITHUB_WEBHOOK_SECRET:}

cors:
  allowed-origins: "http://localhost:3000,https://product2.app"

# Orkestify Configuration
orkestify:
  report:
    # Use LLM to generate PR analysis reports (true) or use static template (false)
    use-llm: ${USE_LLM_REPORTS:false}

# OpenAI Configuration for Graph RAG
openai:
  api-key: ${OPENAI_API_KEY}
  model:
    embedding: ${OPENAI_EMBEDDING_MODEL:text-embedding-3-small}
    chat: ${OPENAI_CHAT_MODEL:gpt-4-turbo}
  timeout: 60
  max-retries: 3

# Qdrant Vector Database Configuration
qdrant:
  host: ${QDRANT_HOST:103.191.208.233}
  rest-port: ${QDRANT_REST_PORT:6333}  # HTTP REST API port (working)
  grpc-port: ${QDRANT_GRPC_PORT:6334}  # gRPC port (for future when available)
  api-key: ${QDRANT_API_KEY:}
  collection: ${QDRANT_COLLECTION_NAME:code-embeddings}
  use-tls: ${QDRANT_USE_TLS:false}

